{% extends "base.html" %}
{% block title %}Detalle de la Cita - KAYAN Health{% endblock %}

{% block content %}

<!-- BOTONES SUPERIORES -->
<div class="d-flex justify-content-end mt-3">
    {% include "components/botones_nav.html" %}
</div>

<!-- TÍTULO PRINCIPAL -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">
        <i class="las la-file-medical me-2"></i> Detalle de la Cita
    </h2>

    <a href="{{ url_for('citas_bp.listar_citas') }}" class="btn btn-secondary">
        <i class="las la-arrow-left me-1"></i> Volver
    </a>
</div>

<!-- ============================
     INFORMACIÓN GENERAL DE LA CITA
============================= -->
<div class="card shadow-sm mb-4 p-4">
    <h4 class="fw-bold mb-3">
        <i class="las la-info-circle me-2"></i> Información General
    </h4>

    <div class="row g-3">

        <div class="col-md-6">
            <label class="fw-semibold">Paciente:</label>
            <div>{{ cita.paciente.nombre }} {{ cita.paciente.apellido }}</div>
        </div>

        <div class="col-md-6">
            <label class="fw-semibold">Médico:</label>
            <div>{{ cita.medico.nombre }} {{ cita.medico.apellido }}</div>
        </div>

        <div class="col-md-6">
            <label class="fw-semibold">Fecha:</label>
            <div>{{ cita.fecha.strftime('%d/%m/%Y') }}</div>
        </div>

        <div class="col-md-6">
            <label class="fw-semibold">Hora:</label>
            <div>{{ cita.hora.strftime('%H:%M') }}</div>
        </div>

        <div class="col-md-12">
            <label class="fw-semibold">Motivo:</label>
            <div>{{ cita.motivo }}</div>
        </div>

        <div class="col-md-6">
            <label class="fw-semibold">Estado:</label>
            <div>
                <span class="badge bg-info text-dark">{{ cita.estado }}</span>
            </div>
        </div>

    </div>
</div>

<!-- ============================
     ACCIONES
============================= -->
<div class="card shadow-sm p-4 mb-4">
    <h4 class="fw-bold mb-3">
        <i class="las la-tools me-2"></i> Acciones
    </h4>

    <div class="d-flex gap-2">
        <a href="{{ url_for('citas_bp.editar_cita', id=cita.id) }}" class="btn btn-warning">
            <i class="las la-edit me-1"></i> Editar Cita
        </a>

        <form action="{{ url_for('citas_bp.eliminar_cita', id=cita.id) }}" method="POST"
              onsubmit="return confirm('¿Eliminar esta cita?')">
            <button class="btn btn-danger">
                <i class="las la-trash me-1"></i> Eliminar
            </button>
        </form>
    </div>
</div>

{% endblock %}
