{% extends "base.html" %}

{% block title %}Editar Paciente - KAYAN Health{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">
        <i class="las la-user-edit me-2"></i> Editar Paciente
    </h2>
</div>

<div class="card shadow-sm p-4">
    <form method="POST">
        {{ form.hidden_tag() }}

        <div class="row g-4">

            {% if current_user.role.nombre in ['Admin', 'Recepcion'] %}

                <div class="col-md-6">
                    <label class="form-label fw-semibold">{{ form.nombre.label.text }}</label>
                    {{ form.nombre(class="form-control") }}
                </div>

                <div class="col-md-6">
                    <label class="form-label fw-semibold">{{ form.apellido.label.text }}</label>
                    {{ form.apellido(class="form-control") }}
                </div>

                <div class="col-md-6">
                    <label class="form-label fw-semibold">{{ form.fecha_nacimiento.label.text }}</label>
                    {{ form.fecha_nacimiento(class="form-control") }}
                </div>

                <div class="col-md-6">
                    <label class="form-label fw-semibold">{{ form.telefono.label.text }}</label>
                    {{ form.telefono(class="form-control") }}
                </div>

                <div class="col-md-12">
                    <label class="form-label fw-semibold">{{ form.email.label.text }}</label>
                    {{ form.email(class="form-control") }}
                </div>

                <div class="col-md-12">
                    <label class="form-label fw-semibold">{{ form.direccion.label.text }}</label>
                    {{ form.direccion(class="form-control") }}
                </div>

            {% else %}

                <div class="col-md-6">
                    <p><strong>Nombre:</strong> {{ form.nombre.data }}</p>
                </div>

                <div class="col-md-6">
                    <p><strong>Apellido:</strong> {{ form.apellido.data }}</p>
                </div>

                <div class="col-md-6">
                    <p><strong>Fecha de nacimiento:</strong> {{ form.fecha_nacimiento.data }}</p>
                </div>

                <div class="col-md-6">
                    <p><strong>Teléfono:</strong> {{ form.telefono.data }}</p>
                </div>

                <div class="col-md-12">
                    <p><strong>Email:</strong> {{ form.email.data }}</p>
                </div>

                <div class="col-md-12">
                    <p><strong>Dirección:</strong> {{ form.direccion.data }}</p>
                </div>

            {% endif %}

        </div>

        {% if current_user.role.nombre in ['Admin', 'Recepcion'] %}
        <div class="mt-4">
            <button class="btn btn-primary px-4">
                <i class="las la-save me-1"></i> Guardar Cambios
            </button>
        </div>
     
        {% endif %}

    </form>
</div>
 <div class="d-flex justify-content-end mt-3">
          {% include "components/botones_nav.html" %} 
        </div>
{% endblock %}
